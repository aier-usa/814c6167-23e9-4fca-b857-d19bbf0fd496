{% extends "base.html" %}

{% block content %}
    <div>
        <h3 class="text-center">Use this form to create a new receipt entry.
            Clicking on "Back to the receipt list" does not create anything.
        </h3>
    </div>
    <form action = "http://aierusa.s3.amazonaws.com/"
          method = "post"
          enctype = "multipart/form-data" >

        <input type="hidden"  name="key" value="user/user1/${filename}" /><br />
        <input type="hidden"  name="bucket" value="aierusa" /><br />

        {% csrf_token %}

        {% if form.errors %}
            {% for error in form.non_field_errors %}
                <div class="isa_error fontsize150p">
                    <i class="fa fa-times-circle"></i>
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}

            {% for field in form %}
                {% for error in field.errors %}
                    <div class="isa_error fontsize150p">
                        <i class="fa fa-times-circle"></i>
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
        {% endif %}

    <table class="spacing-table">
        <tr>
            <td>
            <label for="id_name">name:</label>
                </td>
            <td>
            <input id="id_name" maxlength="254"
                   name="name" type="text"/>
                </td>
            <td>
            <span class="helptext text-right">
                Receipt Name
            </span>
            </td>
        </tr>
        <tr>
            <td>
            <label for="id_store_name">Store Name:</label>
            </td>
            <td>
            <input id="id_store_name" maxlength="255"
                   name="store_name" type="text"/>
            </td>
            <td>
            <span class="helptext">
                Store Name
            </span>
            </td>
        </tr>
        <tr>
            <td>
            <label for="id_amount">Amount:</label>
                </td>
            <td>
            <input id="id_amount" maxlength="255"
                   name="amount" type="text"/>
                </td>
            <td>
            <span class="helptext">
                Dollar amount spent for the item. Dollars and Cents
            </span>
            </td>
        </tr>
        <tr>
            <td>
            <label for="id_creation_DT">Created On:</label>
    </td>
        <td>
            <input id="id_creation_DT" name="creation_DT"
                   type="text" value="{% now 'Y-m-d H:i:s'%}"/>
            </td>
        <td>
            <span class="helptext">
                &nbsp;Creation Date/Time. Format: YYYY-MM-DD HH:MM:SS
            </span></td>
        </tr>
        <tr>
            <td>
            <label for="id_modification_DT">Modified On:</label>
                </td>
            <td>
            <input id="id_modification_DT" name="modification_DT"
                   type="text" value="{% now 'Y-m-d H:i:s'%}"/>
                </td>
            <td>
            <span
                class="helptext">
                &nbsp;Date/Time. Format: YYYY-MM-DD HH:MM:SS
            </span></td>
        </tr>

        <tr>
            <td>
            <label for="id_docfile">Document:</label>
                </td>
            <td>
            <input type = "file" id="file" name="file"
                   placeholder ="Picture Here"/>
                </td>
            <td>
            <span class="helptext">
                Picture
            </span></td>
        </tr>

</table>

        <input type="hidden" name="acl" value="public-read" />
        <input type="hidden"
               name="success_action_redirect"
               value="{% url "receipts" %}" />


        <input type="hidden" name="x-amz-meta-uuid" value="14365123651274" />
        <input type="hidden" name="x-amz-server-side-encryption" value="AES256" />
        <input type="text"
               name="X-Amz-Credential"
               value="AKIAIOSFODNN7EXAMPLE/20151229/us-east-2/s3/aws4_request" />
        <input type="text"   name="X-Amz-Algorithm" value="AWS4-HMAC-SHA256" />
        <input type="text"   name="X-Amz-Date" value="20151229T000000Z" />

        <input type="input"  name="x-amz-meta-tag" value="" /><br />
        <input type="hidden" name="Policy" value='<Base64-encoded policy string>' />
        <input type="hidden" name="X-Amz-Signature" value="<signature-value>" />



        <input class="btn btn-primary" type="submit" value="Save"/>
    </form>

    <a class="text-center btn btn-primary" href="{% url "receipts" %}">
        Back to the receipt list</a>

{% endblock %}